<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LED Backpack Animator — v1.8.2_FONTED</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header class="topbar">
  <div class="title">
    <div class="app">LED Backpack Animator</div>
    <div class="ver">v1.8.2_FONTED</div>
  </div>
  <div class="toolbar">
    <button id="btnPreview">Preview Animation</button>
    <button id="btnEdit" class="ghost">Edit Mode</button>
    <button id="btnUndo">Undo</button>
    <button id="btnRedo">Redo</button>
    <button id="btnClear">Clear All Text</button>
    <button id="btnToggleInspector">Show/Hide Inspector</button>
    <div class="zoom">
      <button id="zoomOut">−</button>
      <span id="zoomPct">100%</span>
      <button id="zoomIn">+</button>
    </div>
  </div>
  <div class="bg-row">
    <select id="resolution">
      <option value="96x128" selected>96×128</option>
      <option value="64x64">64×64</option>
    </select>
    <div class="presets" id="presets"></div>
    <div class="thumb" data-type="solid"><img src="assets/Solid.png" alt="Solid"><span>Solid</span></div>
    <label class="thumb upload">
      <input id="bgUpload" type="file" accept="image/*" hidden/>
      <img src="assets/Upload.png" alt="Upload"><span>Upload</span>
    </label>
  </div>
</header>

<main class="main">
  <div class="canvasWrap">
    <canvas id="bgCanvas"></canvas>
    <canvas id="drawCanvas"></canvas>
    <button id="deletePill" class="deletePill">✕ Delete</button>
  </div>
</main>

<footer class="inspector open" id="inspector">
  <div class="accordion">
    <details class="sec" id="secFont" open>
      <summary>Font</summary>
      <div class="row">
        <label>Family</label>
        <select id="fontFamily">
          <option value="monospace">Monospace</option>
          <option value="sans-serif">Sans-serif</option>
          <option value="serif">Serif</option>
          <option value="VT323">VT323</option>
          <option value="DotGothic16">DotGothic16</option>
          <option value="Press Start 2P">Press Start 2P</option>
        </select>
        <label>Size</label>
        <input id="fontSize" type="number" min="6" max="96" value="22"/>
        <label><input id="autoSize" type="checkbox" checked/> Auto-size (per line)</label>
      </div>
    </details>

    <details class="sec" id="secColor">
      <summary>Color</summary>
      <div class="swatches" id="swatches">
        <button class="sw" data-color="#25b7ff" style="--c:#25b7ff"></button>
        <button class="sw" data-color="#27d845" style="--c:#27d845"></button>
        <button class="sw" data-color="#ffd633" style="--c:#ffd633"></button>
        <button class="sw" data-color="#ff66cc" style="--c:#ff66cc"></button>
        <button class="sw" data-color="#ff3347" style="--c:#ff3347"></button>
        <button class="sw" data-color="#ffffff" style="--c:#ffffff"></button>
        <button class="sw" data-color="#000000" style="--c:#000000"></button>
      </div>
      <div class="row">
        <input id="colorPicker" type="color" value="#ffffff"/>
        <button id="addSwatch">Add Swatch</button>
      </div>
    </details>

    <details class="sec" id="secSpacing" open>
      <summary>Spacing</summary>
      <div class="row">
        <label>Line Gap</label><input id="lineGap" type="number" min="0" max="32" value="2"/>
        <label>Word Spacing</label><input id="wordSpacing" type="number" min="0" max="32" value="8"/>
        <label><input id="preventCutoff" type="checkbox" checked/> Prevent cutoff</label>
      </div>
    </details>

    <details class="sec" id="secAlign">
      <summary>Alignment</summary>
      <div class="row">
        <div class="alignBtns">
          <div class="group">
            <button data-align="left">Left</button>
            <button data-align="center" class="active">Center</button>
            <button data-align="right">Right</button>
          </div>
          <div class="group">
            <button data-valign="top">Top</button>
            <button data-valign="middle" class="active">Middle</button>
            <button data-valign="bottom">Bottom</button>
          </div>
          <div class="group">
            <button id="btnManualDrag">Manual Drag…</button>
            <button id="btnReset">Reset</button>
          </div>
        </div>
      </div>
    </details>

    <details class="sec" id="secAnim">
      <summary>Animation</summary>
      <div class="animCol" id="animCol"></div>
    </details>

    <div class="row">
      <button id="btnAddLine">+ Add Line</button>
      <button id="btnAddWord" class="ghost">+ Add Word</button>
    </div>
  </div>
</footer>

<div class="modal" id="dragModal" aria-hidden="true">
  <div class="modalBackdrop"></div>
  <div class="modalCard">
    <button class="modalClose" id="dragClose">✕</button>
    <h3>Manual Drag Mode</h3>
    <p>Enabling this will disable centering and auto alignment for this word. Continue?</p>
    <label class="chk"><input id="dragDontAsk" type="checkbox"/> Disable this popup for this session</label>
    <div class="actions">
      <button id="dragConfirm" class="primary">Enable Manual Drag</button>
      <button id="dragCancel">Cancel</button>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>

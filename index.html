<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LED Animator App v1.0</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="assets/favicon.png" />
</head>

<body class="theme-midnight">
  <!-- ========== HEADER ========== -->
  <header class="topbar">
    <h1 class="app-title">
      LED Animator App
      <span class="ver-badge">v1.0</span>
    </h1>
    <button id="aboutBtn" class="icon-btn" title="About">‚ÑπÔ∏è</button>
  </header>

  <!-- ========== TOOLBAR ========== -->
  <div class="top-controls">
    <div class="control-row-main">
      <button id="modeEdit" class="button primary">‚úèÔ∏è Edit</button>
      <button id="modePreview" class="button">‚ñ∂Ô∏è Preview</button>
      <button id="undoBtn" class="button">‚Ü©Ô∏è Undo</button>
      <button id="clearAllBtn" class="button danger">üóëÔ∏è Clear</button>
      <button id="redoBtn" class="button">‚Ü™Ô∏è Redo</button>
    </div>

    <div class="control-row-zoom">
      <label for="zoom">Zoom:</label>
      <input id="zoom" type="range" min="0.2" max="3" step="0.05" value="1" />
      <button id="fitBtn" class="button tiny">Fit</button>
    </div>
  </div>

  <!-- ========== CANVAS STAGE ========== -->
  <main class="stage panel">
    <div class="canvas-wrap">
      <canvas id="led" width="96" height="128"></canvas>
    </div>

    <div class="stage-controls">
      <div class="multi-tip">
        <button id="multiToggle" class="button tiny">Multi-Select</button>
        <button id="manualDragToggle" class="button tiny">Manual Drag</button>
      </div>

      <div class="word-row">
        <button id="addWordBtn" class="button tiny">‚ûï Add Word</button>
        <button id="addLineBtn" class="button tiny">‚ûï Add Line</button>
        <button id="deleteWordBtn" class="button danger tiny">‚ùå Delete</button>
        <button id="emojiBtn" class="button tiny">üòä Emoji</button>
      </div>
    </div>
  </main>

  <!-- ========== BACKGROUND PANEL ========== -->
  <section class="panel">
    <h2 class="panel-title">Background Presets</h2>
    <div id="bgGrid" class="bg-grid"></div>

    <div id="bgSolidTools" class="bg-solid-tools hidden">
      <label class="inline-label">Solid Color:</label>
      <input id="bgSolidColor" type="color" value="#000000" />
      <div class="swatch-bank">
        <button id="addBgSwatchBtn" class="button tiny">+ Add</button>
        <div id="bgSwatches" class="swatches"></div>
      </div>
    </div>

    <input id="bgUpload" type="file" accept="image/*" hidden />
  </section>

  <!-- ========== INSPECTOR PANEL ========== -->
  <section id="inspector" class="panel">
    <div class="pillbar">
      <button class="pill active" data-acc="accFont">Font & Color</button>
      <button class="pill" data-acc="accLayout">Spacing & Align</button>
      <button class="pill" data-acc="accAnim">Animations</button>
    </div>

    <!-- FONT & COLOR -->
    <details id="accFont" class="acc open">
      <summary>Font & Color</summary>
      <div class="acc-body">
        <div class="row two">
          <label>Font</label>
          <select id="fontSelect">
            <option value="Orbitron">Orbitron</option>
            <option value="Roboto">Roboto</option>
            <option value="Monospace">Monospace</option>
            <option value="Inter">Inter</option>
            <option value="Arial">Arial</option>
          </select>
        </div>

        <div class="row two">
          <label>Font Size</label>
          <input id="fontSize" type="number" min="6" max="64" step="1" value="22" />
        </div>

        <div class="row two">
          <label>Color</label>
          <input id="fontColor" type="color" value="#FFFFFF" />
          <button id="addSwatchBtn" class="button tiny">+ Add</button>
        </div>

        <div id="swatches" class="swatches"></div>

        <div class="row two">
          <label>Autosize (Word)</label>
          <input id="autoSize" type="checkbox" checked />
        </div>

        <div class="row two">
          <label>Autosize (Line)</label>
          <input id="autoSizePerLine" type="checkbox" checked />
        </div>
      </div>
    </details>

    <!-- SPACING & ALIGN -->
    <details id="accLayout" class="acc">
      <summary>Spacing & Align</summary>
      <div class="acc-body">
        <div class="row two">
          <label>Line Spacing</label>
          <input id="lineGap" type="number" min="0" max="40" step="1" value="4" />
        </div>

        <div class="row two">
          <label>Word Spacing</label>
          <input id="wordGap" type="number" min="0" max="40" step="1" value="6" />
        </div>

        <div class="row two-eq">
          <button data-align="left" class="seg-btn">Left</button>
          <button data-align="center" class="seg-btn active">Center</button>
          <button data-align="right" class="seg-btn">Right</button>
        </div>

        <div class="row two-eq">
          <button data-valign="top" class="seg-btn">Top</button>
          <button data-valign="middle" class="seg-btn active">Middle</button>
          <button data-valign="bottom" class="seg-btn">Bottom</button>
        </div>
      </div>
    </details>

    <!-- ANIMATIONS -->
    <details id="accAnim" class="acc">
      <summary>Animations</summary>
      <div class="acc-body">
        <div id="animList"></div>
        <button id="applySelectedAnimBtn" class="button tiny">Apply to Selected</button>
        <button id="applyAllAnimBtn" class="button tiny">Apply to All</button>
      </div>
    </details>
  </section>

  <!-- ========== CONFIG / RENDER PANEL ========== -->
  <section class="panel">
    <h2 class="panel-title">Render Controls</h2>
    <div class="row two">
      <label>FPS</label>
      <input id="fps" type="number" min="1" max="30" value="15" />
    </div>

    <div class="row two">
      <label>Duration (s)</label>
      <input id="seconds" type="number" min="1" max="60" value="8" />
    </div>

    <div class="row two">
      <label>Filename</label>
      <input id="fileName" type="text" value="animation" />
    </div>

    <div class="row two-eq">
      <button id="previewRenderBtn" class="button primary">Generate Preview</button>
      <button id="gifRenderBtn" class="button primary">Download GIF</button>
    </div>

    <img id="gifPreview" class="gif-preview hidden" alt="Preview GIF" />
    <div class="progress-wrap">
      <div class="progress"><div id="progress"></div></div>
      <div class="time"><span id="tCur">0s</span> / <span id="tEnd">0s</span></div>
    </div>
  </section>

  <!-- ========== EMOJI MODAL ========== -->
  <div id="emojiModal" class="modal hidden">
    <div class="modal-content">
      <div class="emoji-head">
        <div class="emoji-search">
          <input id="emojiSearch" type="text" placeholder="Search emojis..." />
          <select id="emojiFilter">
            <option value="both">Both</option>
            <option value="static">Static</option>
            <option value="animated">Animated</option>
          </select>
        </div>
        <button id="emojiClose" class="button danger tiny">‚úï</button>
      </div>
      <div id="emojiTabs"></div>
      <div id="emojiGrid" class="emoji-grid"></div>
    </div>
  </div>

  <!-- ========== ABOUT MODAL ========== -->
  <div id="aboutModal" class="modal hidden">
    <div class="modal-content">
      <h2 class="center">LED Animator App</h2>
      <p class="center">Version 1.0</p>
      <p class="center">Created by <strong>@theskylincoln</strong></p>
      <p class="center">
        <a href="https://instagram.com/theskylincoln" target="_blank" rel="noopener noreferrer" class="button primary">Follow @theskylincoln</a>
      </p>
      <hr />
      <p class="center">
        Emoji artwork provided by <a href="https://openmoji.org" target="_blank">OpenMoji</a> (CC BY-SA 4.0)  
        and <a href="https://fonts.google.com/noto/specimen/Noto+Emoji" target="_blank">Google Noto Animated Emoji</a>.
      </p>
      <p class="center">
        Licensed under MIT ‚Äî ¬© 2025 TheSkyLincoln
      </p>
      <button id="aboutClose" class="button tiny">Close</button>
    </div>
  </div>

  <!-- ========== SCRIPTS ========== -->
  <script src="assets/libs/lottie.min.js"></script>
  <script src="assets/libs/jsgif/GIFEncoder.js"></script>
  <script src="animatedEmoji.js"></script>
  <script src="app.js"></script>
</body>
</html>

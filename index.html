<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LED Backpack Animator v1.6.1 (Self-contained)</title>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header class="topbar">
  <div class="bg-row">
    <select id="resolution">
      <option value="96x128">96×128</option>
      <option value="64x64">64×64</option>
    </select>
    <div class="thumbs">
      <button class="thumb" data-type="preset" data-name="A" title="Preset A"><img src="assets/Preset_A.png" alt="A"/></button>
      <button class="thumb" data-type="preset" data-name="B" title="Preset B"><img src="assets/Preset_B.png" alt="B"/></button>
      <button class="thumb" data-type="preset" data-name="C" title="Preset C"><img src="assets/Preset_C.png" alt="C"/></button>
      <button class="thumb" data-type="preset" data-name="D" title="Preset D"><img src="assets/Preset_D.png" alt="D"/></button>
      <button class="thumb" data-type="solid" title="Solid Color"><div class="swatch" id="solidSwatch"></div><span>Solid</span></button>
      <label class="thumb upload" title="Custom Upload">
        <input type="file" id="bgUpload" accept="image/*" hidden/>
        <img src="assets/icon_upload.svg" alt="Upload"/>
      </label>
    </div>
  </div>
  <div class="toolbar">
    <button id="btnPreview">Preview Animation</button>
    <button id="btnEdit">Edit Mode</button>
    <button id="btnUndo" disabled>Undo</button>
    <button id="btnRedo" disabled>Redo</button>
    <button id="btnClear">Clear All Text</button>
    <div class="grow"></div>
    <div class="zoom">
      <button id="zoomOut">−</button>
      <span id="zoomPct">100%</span>
      <button id="zoomIn">+</button>
    </div>
  </div>
</header>

<main class="content">
  <section class="stage">
    <canvas id="canvas" width="96" height="128"></canvas>
    <input id="mobileInput" class="mobileInput" inputmode="text" autocomplete="off" autocapitalize="sentences" />
  </section>

  <aside class="inspector">
    <div class="bar">
      <button class="tab" data-target="#secFont">Font</button>
      <button class="tab" data-target="#secColor">Color</button>
      <button class="tab" data-target="#secSpacing">Spacing</button>
      <button class="tab" data-target="#secAlign">Alignment</button>
      <button class="tab" data-target="#secAnim">Animation</button>
      <button id="addLine" class="tab add">+ Add Line</button>
    </div>

    <div id="secFont" class="panel">
      <div class="row">
        <label>Family</label>
        <select id="fontFamily">
          <option value="ui-monospace, Menlo, Consolas, monospace">Mono (system)</option>
          <option value="system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif">Sans (system)</option>
          <option value="Georgia, Times, serif">Serif (system)</option>
        </select>
        <label>Size</label>
        <input id="fontSize" type="number" min="6" max="72" value="22"/>
        <label class="chk"><input type="checkbox" id="autoSize" checked/> Auto-size (per line)</label>
      </div>
    </div>

    <div id="secColor" class="panel">
      <div class="row">
        <div class="swatches" id="swatches"></div>
        <input type="color" id="colorPicker" value="#ffffff"/>
        <button id="addSwatch">+ Add Swatch</button>
      </div>
      <div class="row bgColorRow">
        <div class="label">Solid BG</div>
        <div class="bgSwatches" id="bgSwatches"></div>
        <input type="color" id="bgColorPicker" value="#000000"/>
      </div>
    </div>

    <div id="secSpacing" class="panel">
      <div class="row spaced">
        <label>Line Gap <input id="lineGap" type="number" min="0" max="20" value="2"></label>
        <label>Word Spacing <input id="wordSpacing" type="number" min="0" max="20" value="3"></label>
        <label class="chk"><input type="checkbox" id="preventCutoff" checked/> Prevent cutoff & auto-disable scroll</label>
      </div>
    </div>

    <div id="secAlign" class="panel">
      <div class="row spaced">
        <div class="col">
          <div class="label">Horizontal</div>
          <div class="btnset">
            <button class="btn alignH" data-h="left">Left</button>
            <button class="btn alignH active" data-h="center">Center</button>
            <button class="btn alignH" data-h="right">Right</button>
          </div>
        </div>
        <div class="col">
          <div class="label">Vertical</div>
          <div class="btnset">
            <button class="btn alignV" data-v="top">Top</button>
            <button class="btn alignV active" data-v="middle">Middle</button>
            <button class="btn alignV" data-v="bottom">Bottom</button>
          </div>
        </div>
        <div class="col">
          <button id="alignManual" class="btn">Manual (drag)</button>
          <button id="alignReset" class="btn">Reset</button>
        </div>
      </div>
    </div>

    <div id="secAnim" class="panel">
      <div class="row stack">
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="pulseChk"> Pulse</label>
          <label>Amt <input type="range" id="pulseAmt" min="0" max="100" value="50"/></label>
          <label>Speed <input type="range" id="pulseSpeed" min="1" max="200" value="100"/></label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="flickerChk"> Flicker</label>
          <label>Int <input type="range" id="flickerAmt" min="0" max="100" value="30"/></label>
          <label>Irreg <input type="range" id="flickerJit" min="0" max="100" value="40"/></label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="bounceChk"> Bounce</label>
          <label>Hgt <input type="range" id="bounceH" min="0" max="20" value="6"/></label>
          <label>Speed <input type="range" id="bounceS" min="10" max="300" value="120"/></label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="waveChk"> Wave</label>
          <label>Amp <input type="range" id="waveA" min="0" max="20" value="6"/></label>
          <label>Len <input type="range" id="waveL" min="5" max="50" value="20"/></label>
          <label>Speed <input type="range" id="waveS" min="10" max="300" value="120"/></label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="typeChk"> Typewriter</label>
          <label>CPS <input type="range" id="typeCPS" min="1" max="30" value="8"/></label>
          <label class="chk small"><input type="checkbox" id="typeLoop" checked/> Loop</label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="glitchChk"> Glitch</label>
          <label>Freq <input type="range" id="glitchF" min="0" max="100" value="20"/></label>
          <label>Mag <input type="range" id="glitchM" min="0" max="20" value="4"/></label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="bubbleChk"> Bubble</label>
          <label>Size <input type="range" id="bubbleSz" min="0" max="30" value="10"/></label>
          <label>Cadence <input type="range" id="bubbleCad" min="10" max="300" value="160"/></label>
        </div>
        <div class="animLine">
          <label class="chk"><input type="checkbox" id="fadeChk"> Fade</label>
          <label>Period <input type="range" id="fadeP" min="20" max="400" value="200"/></label>
          <label>Floor <input type="range" id="fadeFloor" min="0" max="100" value="30"/></label>
        </div>
        <div class="animLine">
          <div class="label">Scroll</div>
          <select id="scrollDir">
            <option value="off">Off</option>
            <option value="left">Left</option>
            <option value="up">Up</option>
            <option value="down">Down</option>
          </select>
          <label>Speed <input type="number" id="scrollSpeed" value="20" min="1" max="200"> px/s</label>
          <label class="chk"><input type="checkbox" id="wholeWord"> Whole-word only</label>
        </div>
      </div>
    </div>
  </aside>
</main>

<script src="app.js"></script>
</body>
</html>

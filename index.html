<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LED Backpack Animator</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
</head>
<body>

    <div id="toolbar" class="toolbar">
        <div class="toolbar-group">
            <button id="preview-btn" title="Preview Animation">▶️ Preview</button>
            <button id="edit-btn" title="Edit Mode">✏️ Edit</button>
        </div>

        <div class="toolbar-group">
            <button id="undo-btn" title="Undo (Ctrl+Z)" disabled>↩️ Undo</button>
            <button id="redo-btn" title="Redo (Ctrl+Y)" disabled>↪️ Redo</button>
        </div>

        <div class="toolbar-group">
            <button id="clear-text-btn" title="Clear All Text">🗑️ Clear All</button>
            <button id="manual-drag-btn" title="Enable Manual Positioning">✋ Manual Drag</button>
        </div>

        <div class="toolbar-group">
            <label for="resolution-select">Resolution:</label>
            <select id="resolution-select">
                <option value="96x128">96x128</option>
                <option value="64x64">64x64</option>
            </select>
        </div>

        <div class="toolbar-group">
            <button id="zoom-in-btn" title="Zoom In">🔍 +</button>
            <span id="zoom-display">100%</span>
            <button id="zoom-out-btn" title="Zoom Out">🔍 -</button>
        </div>

        <div class="toolbar-group">
            <button id="download-config-btn" title="Save Session">💾 Download Config</button>
            <input type="file" id="upload-config-input" accept=".json" hidden>
            <button id="upload-config-btn" title="Restore Session">📂 Upload Config</button>
            <button id="toggle-inspector-btn" title="Toggle Inspector">⚙️ Inspector</button>
        </div>
    </div>

    <div id="canvas-container">
        <div id="led-canvas" class="canvas-96x128" tabindex="0">
            </div>
    </div>

    <div id="inspector" class="inspector hidden">
        <div class="section">
            <h3 class="section-header">Font</h3>
            <div class="controls">
                <label>Family: <select id="font-family-select"><option>VT323</option></select></label>
                <label>Size: <input type="number" id="font-size-input" min="1" value="16"></label>
            </div>
        </div>

        <div class="section">
            <h3 class="section-header">Color</h3>
            <div class="controls">
                <input type="color" id="color-picker-input">
                </div>
        </div>

        <div class="section">
            <h3 class="section-header">Alignment</h3>
            <div class="controls">
                <button id="align-left-btn">Left</button>
                <button id="align-center-btn">Center</button>
                <button id="align-right-btn">Right</button>
                <button id="align-manual-btn">Manual</button>
                <button id="align-reset-btn">Reset Pos.</button>
            </div>
        </div>

        <div class="section">
            <h3 class="section-header">Animations</h3>
            <div class="controls">
                <div class="animation-control">
                    <label><input type="checkbox" data-animation="scroll"> Scroll</label>
                    <input type="range" min="1" max="10" value="5" data-setting="speed" hidden>
                </div>
            </div>
        </div>
    </div>

    <div id="background-options" class="background-options">
        <h4>Background</h4>
        <div id="preset-thumbnails">
            </div>
        <label>Solid Color: <input type="color" id="bg-color-picker"></label>
        <label>Custom Upload: <input type="file" id="bg-upload-input" accept="image/*"></label>
    </div>

    <div id="manual-warning" class="popup hidden">
        <p>⚠️ **Manual Drag Enabled**</p>
        <p>Auto-centering is disabled. Click Reset Position to return to auto-alignment.</p>
        <label><input type="checkbox" id="dont-show-again"> Don't show again this session</label>
        <button onclick="document.getElementById('manual-warning').classList.add('hidden')">OK</button>
    </div>

    <script src="app.js"></script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LED Backpack Animator v1.7 STABLE</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header class="topbar">
  <div class="bg-row">
    <select id="resolution">
      <option value="96x128" selected>96×128</option>
      <option value="64x64">64×64</option>
    </select>
    <div class="thumb" data-type="preset" data-name="Preset_A"><img src="assets/Preset_A.png" alt="A"><span>A</span></div>
    <div class="thumb" data-type="preset" data-name="Preset_B"><img src="assets/Preset_B.png" alt="B"><span>B</span></div>
    <div class="thumb" data-type="preset" data-name="Preset_C"><img src="assets/Preset_C.png" alt="C"><span>C</span></div>
    <div class="thumb" data-type="preset" data-name="Preset_D"><img src="assets/Preset_D.png" alt="D"><span>D</span></div>
    <div class="thumb" data-type="solid"><img src="assets/Solid.png" alt="Solid"><span>Solid</span></div>
    <label class="thumb upload">
      <input id="bgUpload" type="file" accept="image/*" hidden/>
      <img src="assets/Upload.png" alt="Upload"><span>Upload</span>
    </label>
  </div>
  <div class="toolbar">
    <button id="btnPreview">Preview Animation</button>
    <button id="btnEdit">Edit Mode</button>
    <button id="btnUndo">Undo</button>
    <button id="btnRedo">Redo</button>
    <button id="btnClear">Clear All Text</button>
    <div class="zoom">
      <button id="zoomOut">−</button>
      <span id="zoomPct">100%</span>
      <button id="zoomIn">+</button>
    </div>
  </div>
</header>

<main class="main">
  <div class="canvasWrap">
    <canvas id="bgCanvas"></canvas>
    <canvas id="drawCanvas"></canvas>
    <button id="deletePill" class="deletePill">✕ Delete</button>
  </div>
</main>

<footer class="inspector" id="inspector">
  <div class="accordion">
    <details class="sec" id="secFont" open>
      <summary>Font</summary>
      <div class="row">
        <label>Family</label>
        <select id="fontFamily">
          <option value="monospace">Monospace</option>
          <option value="sans-serif">Sans</option>
          <option value="serif">Serif</option>
        </select>
        <label>Size</label>
        <input id="fontSize" type="number" min="6" max="96" value="22"/>
        <label><input id="autoSize" type="checkbox" checked/> Auto-size (per line)</label>
      </div>
    </details>

    <details class="sec" id="secColor">
      <summary>Color</summary>
      <div class="swatches" id="swatches">
        <button class="sw" data-color="#25b7ff" style="--c:#25b7ff"></button>
        <button class="sw" data-color="#27d845" style="--c:#27d845"></button>
        <button class="sw" data-color="#ffd633" style="--c:#ffd633"></button>
        <button class="sw" data-color="#ff66cc" style="--c:#ff66cc"></button>
        <button class="sw" data-color="#ff3347" style="--c:#ff3347"></button>
        <button class="sw" data-color="#ffffff" style="--c:#ffffff"></button>
        <button class="sw" data-color="#000000" style="--c:#000000"></button>
      </div>
      <div class="row">
        <input id="colorPicker" type="color" value="#ffffff"/>
        <button id="addSwatch">Add Swatch</button>
        <small>Right-click custom swatch to delete</small>
      </div>
    </details>

    <details class="sec" id="secSpacing">
      <summary>Spacing</summary>
      <div class="row">
        <label>Line Gap</label><input id="lineGap" type="number" min="0" max="32" value="2"/>
        <label>Word Spacing</label><input id="wordSpacing" type="number" min="0" max="32" value="3"/>
        <label><input id="preventCutoff" type="checkbox"/> Prevent cutoff</label>
      </div>
    </details>

    <details class="sec" id="secAlign">
      <summary>Alignment</summary>
      <div class="row">
        <div class="alignBtns">
          <button data-align="left">Left</button>
          <button data-align="center" class="active">Center</button>
          <button data-align="right">Right</button>
          <button data-align="manual">Manual (drag)</button>
          <button id="btnReset">Reset</button>
        </div>
      </div>
    </details>

    <details class="sec" id="secAnim">
      <summary>Animation</summary>
      <div class="animCol" id="animCol">
        <!-- Pulse -->
        <div class="animItem" data-anim="pulse">
          <label class="animHead"><input type="checkbox" class="animChk"> Pulse <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Strength</label><input type="range" min="0" max="100" value="60" class="animSlider" data-key="amt">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Flicker -->
        <div class="animItem" data-anim="flicker">
          <label class="animHead"><input type="checkbox" class="animChk"> Flicker <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Frequency</label><input type="range" min="0" max="100" value="40" class="animSlider" data-key="amt">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Wave -->
        <div class="animItem" data-anim="wave">
          <label class="animHead"><input type="checkbox" class="animChk"> Wave <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Amplitude</label><input type="range" min="0" max="20" value="6" class="animSlider" data-key="amp">
            <label>Speed</label><input type="range" min="0" max="100" value="50" class="animSlider" data-key="spd">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Scroll -->
        <div class="animItem" data-anim="scroll">
          <label class="animHead"><input type="checkbox" class="animChk"> Scroll <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Direction</label>
            <select class="animSelect" data-key="dir">
              <option value="left">Left</option>
              <option value="right">Right</option>
              <option value="up">Up</option>
              <option value="down">Down</option>
            </select>
            <label>Speed</label><input type="range" min="1" max="100" value="30" class="animSlider" data-key="spd">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Bounce -->
        <div class="animItem" data-anim="bounce">
          <label class="animHead"><input type="checkbox" class="animChk"> Bounce <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Height</label><input type="range" min="0" max="20" value="8" class="animSlider" data-key="hgt">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Fade -->
        <div class="animItem" data-anim="fade">
          <label class="animHead"><input type="checkbox" class="animChk"> Fade <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Speed</label><input type="range" min="1" max="100" value="40" class="animSlider" data-key="spd">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Typewriter -->
        <div class="animItem" data-anim="type">
          <label class="animHead"><input type="checkbox" class="animChk"> Typewriter <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Speed</label><input type="range" min="1" max="100" value="50" class="animSlider" data-key="spd">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Glitch -->
        <div class="animItem" data-anim="glitch">
          <label class="animHead"><input type="checkbox" class="animChk"> Glitch <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Intensity</label><input type="range" min="0" max="20" value="4" class="animSlider" data-key="int">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
        <!-- Bubble -->
        <div class="animItem" data-anim="bubble">
          <label class="animHead"><input type="checkbox" class="animChk"> Bubble <button class="gear">⚙</button></label>
          <div class="animSettings">
            <label>Height</label><input type="range" min="0" max="20" value="6" class="animSlider" data-key="hgt">
            <button class="reset">Default</button>
            <button class="close">Close</button>
          </div>
        </div>
      </div>
    </details>

    <div class="row">
      <button id="btnAddLine">+ Add Line</button>
      <button id="btnAddWord" class="ghost">+ Add Word</button>
    </div>
  </div>
</footer>

<script src="app.js"></script>
</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LED Backpack Animator</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="topbar">
    <h1>LED Backpack Animator <span id="version">v1.9.3-sandbox</span></h1>
    <div class="toolbar">
      <button id="btnPreview">Preview Animation</button>
      <button id="btnEdit">Edit Mode</button>
      <button id="btnUndo">Undo</button>
      <button id="btnRedo">Redo</button>
      <button id="btnClear">Clear All Text</button>
      <div class="zoom">
        <button id="btnZoomOut">-</button>
        <span id="zoomLabel">100%</span>
        <button id="btnZoomIn">+</button>
      </div>
      <button id="btnToggleInspector">Show/Hide Inspector</button>
      <button id="btnDownloadConfig">Download Config</button>
      <input type="file" id="uploadConfig" accept="application/json" hidden/>
      <button id="btnUploadConfig">Upload Config</button>
    </div>
  </header>

  <main class="layout">
    <section class="left">
      <div class="bgResRow">
        <div class="resolution">
          <select id="resolution">
            <option value="96x128" selected>96×128</option>
            <option value="64x64">64×64</option>
          </select>
        </div>
        <div class="bgThumbs" id="bgThumbs">
          <div class="thumb" data-type="preset" data-name="Preset_A" data-for="96x128" title="Preset A">
            <img src="assets/presets/Preset_A.png" onerror="this.style.display='none'; this.parentElement.classList.add('thumb-solid');" />
          </div>
          <div class="thumb" data-type="preset" data-name="Preset_B" data-for="96x128" title="Preset B">
            <img src="assets/presets/Preset_B.png" onerror="this.style.display='none'; this.parentElement.classList.add('thumb-solid');" />
          </div>
          <div class="thumb" data-type="preset" data-name="Preset_C" data-for="64x64" title="Preset C">
            <img src="assets/presets/Preset_C.png" onerror="this.style.display='none'; this.parentElement.classList.add('thumb-solid');" />
          </div>
          <div class="thumb" data-type="preset" data-name="Preset_D" data-for="64x64" title="Preset D">
            <img src="assets/presets/Preset_D.png" onerror="this.style.display='none'; this.parentElement.classList.add('thumb-solid');" />
          </div>
          <div class="thumb solid" data-type="solid" title="Solid Color">
            <span>Solid</span>
          </div>
          <div class="thumb upload" data-type="upload" title="Custom Upload">
            <span>Upload</span>
            <input type="file" id="bgUpload" accept="image/*" hidden/>
          </div>
          <input type="color" id="solidPicker" value="#000000" class="solidPicker" />
        </div>
      </div>

      <div class="canvasWrap">
        <canvas id="canvas" width="384" height="512"></canvas>
        <button id="btnDeleteWord" class="deleteWord hidden">× Delete</button>
      </div>

      <div class="inspector hidden" id="inspector">
        <div class="inspector-bar">
          <button class="tab" data-tab="font">Font</button>
          <button class="tab" data-tab="color">Color</button>
          <button class="tab" data-tab="spacing">Spacing</button>
          <button class="tab" data-tab="align">Alignment</button>
          <button class="tab" data-tab="anim">Animation</button>
          <button id="btnAddLine" class="tab addline">+ Add Line</button>
        </div>
        <div class="panel" id="panel-font">
          <label>Family
            <select id="fontFamily">
              <option value="monospace" selected>Monospace</option>
              <option value="sans-serif">Sans-serif</option>
              <option value="serif">Serif</option>
              <option value="'DotGothic16', sans-serif">DotGothic16</option>
              <option value="'VT323', monospace">VT323</option>
              <option value="'Press Start 2P', cursive">Press Start 2P</option>
            </select>
          </label>
          <label>Size <input type="number" id="fontSize" value="22" min="6" max="96"/></label>
          <label><input type="checkbox" id="autoSize" checked/> Auto-size (per line)</label>
        </div>
        <div class="panel" id="panel-color">
          <div class="swatches" id="swatches">
            <button class="sw" data-color="#00C2FF" style="--c:#00C2FF"></button>
            <button class="sw" data-color="#2EE55D" style="--c:#2EE55D"></button>
            <button class="sw" data-color="#FFE045" style="--c:#FFE045"></button>
            <button class="sw" data-color="#FF67CF" style="--c:#FF67CF"></button>
            <button class="sw" data-color="#FF5A5A" style="--c:#FF5A5A"></button>
            <button class="sw" data-color="#FFFFFF" style="--c:#FFFFFF"></button>
            <button class="sw" data-color="#111111" style="--c:#111111"></button>
          </div>
          <div class="custom-swatches">
            <input type="color" id="customColor" value="#FFFFFF"/>
            <button id="btnAddSwatch">+ Add Swatch</button>
            <button id="btnDelSwatch">Delete Last</button>
          </div>
        </div>
        <div class="panel" id="panel-spacing">
          <label>Line Gap <input type="number" id="lineGap" value="2" min="0" max="20"/></label>
          <label>Word Spacing <input type="number" id="wordSpacing" value="8" min="0" max="30"/></label>
          <label><input type="checkbox" id="preventCutoff" checked/> Prevent cutoff</label>
        </div>
        <div class="panel" id="panel-align">
          <div class="alignRow">
            <button class="alignBtn" data-align="left">Left</button>
            <button class="alignBtn" data-align="center">Center</button>
            <button class="alignBtn" data-align="right">Right</button>
            <button class="alignBtn" data-align="manual">Manual (drag)</button>
            <button id="btnResetAlign">Reset</button>
          </div>
        </div>
        <div class="panel" id="panel-anim">
          <div class="animList">
            <div class="animItem">
              <label><input type="checkbox" class="animCheck" data-anim="pulse"/> Pulse</label>
              <div class="animCfg" data-for="pulse">
                Amount <input type="range" min="0" max="1" step="0.01" value="0.4" class="animSlider" data-anim="pulse"/>
                <button class="resetAnim" data-anim="pulse">Reset</button>
              </div>
            </div>
            <div class="animItem">
              <label><input type="checkbox" class="animCheck" data-anim="flicker"/> Flicker</label>
              <div class="animCfg" data-for="flicker">
                Amount <input type="range" min="0" max="1" step="0.01" value="0.3" class="animSlider" data-anim="flicker"/>
                <button class="resetAnim" data-anim="flicker">Reset</button>
              </div>
            </div>
            <div class="animItem">
              <label><input type="checkbox" class="animCheck" data-anim="bounce"/> Bounce</label>
              <div class="animCfg" data-for="bounce">
                Height <input type="range" min="0" max="10" step="1" value="3" class="animSlider" data-anim="bounce"/>
                <button class="resetAnim" data-anim="bounce">Reset</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="right">
      <!-- Reserved for future (about / render) -->
    </section>
  </main>

  <div class="modal hidden" id="dragModal">
    <div class="modalCard">
      <h3>Enable Manual Drag</h3>
      <p>Manual drag turns off automatic centering and alignment for this word.</p>
      <label><input type="checkbox" id="noDragPrompt"/> Don't show again this session</label>
      <div class="modalRow">
        <button id="dragCancel">Cancel</button>
        <button id="dragEnable">Enable</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>

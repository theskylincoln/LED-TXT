:root{
  --glass: rgba(16,18,24,.6);
  --border: rgba(120,160,255,.14);
  --ink: #eaeefc;
  --accent: #73b7ff;
  --accent-2: #ff5cf0;
  --bg: #0c0f14;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 10% -10%, #18305933, transparent 60%),
    radial-gradient(900px 600px at 110% -10%, #2a105933, transparent 60%),
    var(--bg);
  font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

.hidden{display:none !important}

.app{display:flex; flex-direction:column; height:100vh;}

/* Toolbar */
.toolbar{
  display:flex; flex-wrap:wrap; gap:.75rem;
  padding:.75rem 1rem;
  border-bottom:1px solid var(--border);
  background:linear-gradient(to bottom, #11161eCC, #0f131acc);
  backdrop-filter: blur(6px);
}
.group{display:flex; align-items:center; gap:.5rem}
.group.grow{flex:1}
.lab{opacity:.75; font-size:.9rem}
.select,.num,.text{
  background: #0c0f14;
  color: var(--ink);
  border:1px solid var(--border);
  padding:.4rem .55rem; border-radius:.5rem;
}
.num{width:5.5rem}
.text{width:12rem}
.range{width:220px}
.button{
  background: #111722; color: var(--ink);
  border:1px solid var(--border); border-radius:.55rem;
  padding:.45rem .7rem; cursor:pointer;
}
.button:hover{border-color:#7bb6ff44}
.button.accent{background: linear-gradient(180deg,#1b2b44,#162338); border-color:#7bb6ff55}
.button.danger{background:#2b1020; border-color:#ff5cf055}
.button.tiny{font-size:.8rem; padding:.25rem .45rem}
.button.full{width:100%}

.seg{display:flex; border:1px solid var(--border); border-radius:.6rem; overflow:hidden}
.seg-btn{
  background:#0e1420; color:var(--ink);
  border:0; padding:.45rem .6rem; cursor:pointer;
}
.seg-btn + .seg-btn{border-left:1px solid var(--border)}
.seg-btn.active{background:#132034}

/* Progress */
.progress-wrap{
  display:flex; align-items:center; gap:.75rem;
  padding:.5rem 1rem; border-bottom:1px solid var(--border);
}
.progress{
  --p: 0;
  flex:1; height:8px; border-radius:999px;
  background: #0e1420; position:relative; overflow:hidden;
  border:1px solid var(--border);
}
.progress::after{
  content:""; position:absolute; inset:0;
  transform-origin:left center;
  transform:scaleX(var(--p));
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
}
.progress-time{opacity:.7; font-size:.9rem}

/* Main grid */
.grid{
  flex:1; min-height:0;
  display:grid; gap:1rem;
  grid-template-columns: 280px 1fr 340px;
  padding:1rem;
}
.panel{
  background: linear-gradient(180deg, #0e1420d9, #0c111ad9);
  border:1px solid var(--border); border-radius:1rem;
  padding:1rem; min-height:0; overflow:auto;
}
.h{margin:.25rem 0 .75rem}

/* Background grid */
.bg-grid{
  display:grid; gap:.75rem;
  grid-template-columns: repeat(2, 1fr);
}
.bg-tile{
  border:1px solid var(--border); border-radius:.8rem; overflow:hidden;
  background:#0a0f17; cursor:pointer; padding:.35rem;
}
.bg-tile img{width:100%; display:block; border-radius:.5rem}
.bg-tile.active{outline:2px solid var(--accent)}

.bg-solid-tools{margin-top:1rem}
.row{display:flex; align-items:center; gap:.6rem; margin:.5rem 0}
.swatches{display:flex; flex-wrap:wrap; gap:.4rem}
.swatch{
  width:22px; height:22px; border-radius:.4rem; border:1px solid var(--border);
  background:#fff; cursor:pointer;
}

/* Stage / Canvas */
.stage{
  display:flex; flex-direction:column; gap:1rem;
}
.canvas-wrap{
  position:relative; flex:1; min-height:340px;
  border:1px dashed var(--border); border-radius:1rem;
  background: radial-gradient(200px 120px at 50% 0%, #13203466, transparent 70%);
}
#led{
  position:absolute; top:50%; left:50%;
  transform:translate(-50%,-50%) scale(1);
  image-rendering: pixelated; image-rendering: crisp-edges;
  box-shadow: 0 0 0 1px #000 inset, 0 0 0 2px #00000066 inset;
}
.word-actions{display:flex; gap:.5rem}

/* Inspector */
.inspector-body{margin-top:.75rem; display:none}
.inspector-body.open{display:block}
.pills{display:flex; gap:.5rem; margin-bottom:.75rem}
.pill{
  background:#0e1420; color:var(--ink); border:1px solid var(--border);
  border-radius:999px; padding:.35rem .8rem; cursor:pointer; font-size:.9rem;
}
.pill.active{background:#162338; border-color:#7bb6ff44}
details{border:1px solid var(--border); border-radius:.8rem; margin:.75rem 0; overflow:hidden}
details>summary{
  list-style:none; cursor:pointer; padding:.65rem .8rem; background:#0e1420; font-weight:600;
}
details>div{padding:.8rem}

.anim-list .anim-controls{
  display:flex; flex-wrap:wrap; gap:.5rem; align-items:center; margin-bottom:.6rem;
}
.anim-list .hint{opacity:.75; font-size:.85rem}
.anim-rows{display:flex; flex-direction:column; gap:.5rem}
.anim-row{
  border:1px solid var(--border); border-radius:.6rem; overflow:hidden; background:#0b1018;
}
.anim-left{display:flex; gap:.5rem; align-items:center; padding:.5rem .6rem; border-bottom:1px solid var(--border)}
.anim-params{padding:.6rem}
.anim-params .p{display:flex; align-items:center; gap:.6rem; margin:.35rem 0}
.anim-params input[type="number"]{width:6rem}

.gif-prev{margin-top:1rem; max-width:100%; border:1px solid var(--border); border-radius:.5rem}

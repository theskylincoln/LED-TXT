/* ==========================================================
   LED Backpack Animator â€” style.css (Full Drop-In)
   ========================================================== */

/* ---------- Variables ---------- */
:root {
  --glass: rgba(16,18,24,.6);
  --border: rgba(120,160,255,.14);
  --ink: #eaeefc;
  --accent: #73b7ff;
  --accent-2: #ff5cf0;
  --btn-bg: rgba(60,70,90,.45);
  --btn-hover: rgba(100,120,160,.5);
}

/* ---------- Reset ---------- */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; padding:0; color:var(--ink);
  font-family: 'Montserrat', system-ui, sans-serif; background:#0b0c12; }
button,input,select { font:inherit; color:inherit; }
button { cursor:pointer; }

/* ---------- Glass + Layout ---------- */
.glass {
  background: var(--glass);
  backdrop-filter: blur(14px) saturate(160%);
  border: 1px solid var(--border);
  border-radius: 10px;
}
.layout {
  display:flex; flex-wrap:wrap; gap:12px;
  justify-content:center; align-items:flex-start;
  padding:12px; min-height:calc(100vh - 160px);
}
.left-panel {
  flex:0 0 220px; padding:12px; display:flex; flex-direction:column; gap:10px;
}
.stage {
  flex:1 1 340px; display:flex; flex-direction:column; align-items:center;
  justify-content:flex-start; padding:12px; position:relative;
}
.canvas-wrap {
  position:relative; width:100%; height:420px;
  display:flex; align-items:center; justify-content:center;
}
#led {
  position:absolute; top:50%; left:50%;
  transform:translate(-50%,-50%) scale(1);
  image-rendering:pixelated;
  border:1px solid var(--border);
  border-radius:6px;
}

/* ---------- Buttons ---------- */
.button {
  background:var(--btn-bg);
  border:1px solid var(--border);
  border-radius:6px;
  color:var(--ink);
  padding:8px 14px;
  transition:background .2s;
}
.button:hover { background:var(--btn-hover); }
.button.primary { background:var(--accent); color:#0b0c12; font-weight:600; }
.button.tiny { padding:4px 8px; font-size:12px; }

/* ---------- Header ---------- */
.topbar {
  display:flex; flex-direction:column; gap:6px;
  padding:10px 14px; margin-bottom:8px;
}
.title-wrap { display:flex; align-items:center; justify-content:space-between; }
.tools-row { display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
.seg { display:inline-flex; border:1px solid var(--border); border-radius:6px; overflow:hidden; }
.seg-btn {
  background:none; border:none; padding:6px 12px;
  color:var(--ink); font-weight:600;
}
.seg-btn.active, .seg-btn:hover { background:var(--accent); color:#0b0c12; }

/* ---------- Swatches ---------- */
.swatches {
  display:flex; flex-wrap:wrap; gap:6px;
  margin:4px 0;
}
.swatch {
  width:22px; height:22px; border-radius:4px;
  border:1px solid var(--border);
}
.swatch:hover { transform:scale(1.1); }

/* ---------- Background Grid ---------- */
.bg-grid {
  display:grid; grid-template-columns:repeat(2,1fr);
  gap:8px; justify-items:center;
}
.bg-tile {
  width:100%; aspect-ratio:1;
  border-radius:6px; overflow:hidden;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  display:flex; align-items:center; justify-content:center;
}
.bg-tile img { width:100%; height:100%; object-fit:cover; }
.bg-tile.active { outline:2px solid var(--accent); }

/* ---------- Inspector ---------- */
.inspector-bar {
  margin-top:auto; padding:10px; position:relative;
}
.inspector-head {
  display:flex; justify-content:space-between; align-items:center;
}
.toolbar { display:flex; gap:10px; align-items:center; }
.toolbar-tabs { display:flex; gap:6px; }
.pill {
  background:var(--btn-bg);
  border:1px solid var(--border);
  border-radius:20px;
  padding:6px 12px; font-size:13px;
}
.pill.active, .pill:hover {
  background:var(--accent); color:#0b0c12;
}
.inspector-body { margin-top:10px; display:none; }
.inspector-body.open { display:block; }

details.acc {
  margin-bottom:10px;
  border:1px solid var(--border);
  border-radius:6px;
  overflow:hidden;
}
details.acc summary {
  background:rgba(255,255,255,.04);
  padding:8px 10px;
  cursor:pointer;
  font-weight:600;
}
details.acc .acc-body {
  padding:10px;
  display:flex; flex-direction:column; gap:8px;
}

/* ---------- Animations Header + Scope ---------- */
.anim-head {
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
}
.anim-head-actions {
  display:flex; gap:6px;
}
.anim-scope {
  display:flex; gap:8px; align-items:center;
  margin:8px 0 12px;
  flex-wrap:wrap;
}
.anim-scope .button.tiny, .anim-head-actions .button.tiny {
  padding:5px 9px; font-size:12px;
}

/* ---------- Animations List ---------- */
.anim-list { display:flex; flex-direction:column; gap:8px; }
.anim-row {
  display:flex; flex-direction:column;
  border:1px solid var(--border);
  border-radius:6px; padding:6px 8px;
  background:rgba(255,255,255,.03);
}
.anim-left {
  display:flex; align-items:center; justify-content:space-between;
  gap:6px;
}
.anim-params { margin-top:6px; padding-left:8px; }
.anim-params .p { display:flex; justify-content:space-between; gap:6px; align-items:center; margin:2px 0; }
.anim-params label { flex:1; font-size:13px; }
.anim-params input, .anim-params select {
  flex:1; padding:2px 4px; border-radius:4px; border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  color:var(--ink);
}

/* ---------- Multi-select Highlight ---------- */
.word-selected { outline:2px dotted var(--accent-2); }
.word-multi { outline:2px solid cyan; }

/* ---------- Misc ---------- */
.progress-wrap {
  width:100%; max-width:260px; margin-top:12px;
  display:flex; flex-direction:column; align-items:center;
}
.progress {
  width:100%; height:6px;
  background:rgba(255,255,255,.1);
  border-radius:3px; overflow:hidden;
}
#progress { width:0%; height:100%; background:var(--accent-2); transition:width .2s; }
.time { font-size:12px; margin-top:4px; color:rgba(255,255,255,.6); }

.stage-actions { margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }

.bottom-panels {
  display:flex; flex-wrap:wrap; gap:14px; justify-content:center; padding:12px;
}
.card { flex:1 1 250px; padding:12px; display:flex; flex-direction:column; gap:10px; }

.row { display:flex; flex-wrap:wrap; align-items:center; gap:6px; }
.row.two label { flex:0 0 60px; }
.row.two input, .row.two select { flex:1; }
.row.two-eq { display:flex; gap:8px; }
.row.two-eq .button.block { flex:1; }

.color-controls { display:flex; flex-wrap:wrap; gap:8px; align-items:center; }

/* ---------- Modal ---------- */
.modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:99; }
.modal.hidden { display:none; }
.modal-backdrop { position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter:blur(8px); }
.modal-card { position:relative; padding:20px; max-width:320px; border-radius:10px; }
.modal-card h3 { margin-top:0; }
.modal-actions { text-align:right; margin-top:12px; }

/* ---------- Responsive ---------- */
@media (max-width:720px){
  .layout { flex-direction:column; align-items:center; }
  .left-panel { width:100%; max-width:420px; }
  .stage { width:100%; max-width:420px; }
  .canvas-wrap { height:340px; }
  .bottom-panels { flex-direction:column; align-items:center; }
}

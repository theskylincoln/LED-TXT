:root{--card:#0b1324;--bd:#1f2f4a;--ink:#cfe4ff;--muted:#8fb1df;--chip:#142033;--chipbd:#2b3b61}
*{box-sizing:border-box}body{margin:0;background:#0a1220;color:var(--ink);font:14px/1.3 system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
.topbar{position:sticky;top:0;z-index:5;display:flex;justify-content:space-between;align-items:center;padding:.6rem .9rem;background:#081324;border-bottom:1px solid #13233d}
.topbar .badge{font-size:.75rem;color:#b9d8ff;opacity:.8}
main.stack{display:flex;flex-direction:column;gap:12px;padding:12px}
.card{background:var(--card);border:1px solid var(--bd);border-radius:12px;padding:12px}
h1,h3{margin:.2rem 0 .6rem 0}
.row{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap}
.select{display:flex;flex-direction:column;gap:.25rem}
.btn{border:1px solid var(--chipbd);background:var(--chip);color:var(--ink);padding:.35rem .6rem;border-radius:8px;cursor:pointer}
.btn.secondary{background:#0f1726;color:#b3c8e6}
.btn.danger{background:#3b1218;border-color:#6a1a24}
.toolbar{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:.5rem}
.preview{position:relative;display:flex;align-items:center;justify-content:center;min-height:120px;padding:.5rem;background:#0b0f1a;border:1px solid #22324d;border-radius:8px}
.preview canvas{image-rendering:pixelated;image-rendering:crisp-edges}
.selection{position:absolute;border:1px dashed #32d1ff;pointer-events:none;z-index:5}
.bgThumbs{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}
.bgTile{width:72px;height:72px;border:1px solid #23314f;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#0b0f1a;cursor:pointer}
.bgTile img{max-width:100%;max-height:100%;object-fit:contain;display:block}
.bgTile.add{border:1px dashed #335;color:#89b}
.bgTile.active{outline:2px solid #32d1ff;box-shadow:0 0 8px rgba(50,209,255,.3) inset}
.bg-solid.hidden{display:none}
.swatches{display:flex;gap:.35rem;margin-top:.35rem}
.swatch{width:20px;height:20px;border-radius:4px;border:1px solid #2b3b61;background:#222;cursor:pointer}
.swatch[data-color="#FFFFFF"],.swatch[data-color="#000000"]{border-color:#444}
.hidden{display:none!important}
@media (min-width:900px){
  main.stack{display:grid;gap:12px;grid-template-columns:1fr 1fr 1fr}
  #bgCard{grid-column:1}
  #previewCard{grid-column:2}
  #inspector{grid-column:3}
  #animPanel{grid-column:3}
  #presetsCard{grid-column:2}
  #aboutApp{grid-column:1}
}